buildscript {
    ext.kotlin_version = '1.0.0-rc-1036'
    repositories {
        mavenCentral()
        mavenLocal()
    }
    dependencies {
        classpath 'org.dm.gradle:gradle-bundle-plugin:0.8'
        classpath 'org.libraryweasel:library-weasel-gradle-plugin:0.0.1-SNAPSHOT'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

apply plugin: 'kotlin'
apply plugin: 'groovy'
apply plugin: 'org.libraryweasel.gradleplugin'

group 'org.libraryweasel'
version '0.1.0-SNAPSHOT'

repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {
    compile 'org.libraryweasel:library-weasel-plugin-api:0.1.0-SNAPSHOT'
    compile 'org.libraryweasel:library-weasel-servo:0.1.0-SNAPSHOT'
    testCompile 'org.spockframework:spock-core:1.0-groovy-2.4'
    compile "org.jetbrains.kotlin:kotlin-osgi-bundle:$kotlin_version"
}

bundle {
    instruction 'Import-Package', '*'
    instruction 'Private-Package', 'org.libraryweasel.stinkpot.burrow.*'
    instruction 'Bundle-Activator', 'org.libraryweasel.stinkpot.burrow.Activator'
}
sourceSets {
    main.java.srcDirs += 'src/main/kotlin'
}
